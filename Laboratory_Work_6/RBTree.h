#ifndef RBTREE_H
#define RBTREE_H

#include <iostream>
#include "RBNode.h"
class RBTree {
private:
	//Указатель на корень дерева.
	RBNode* _root;
	
	//Количество элементов в дереве.
	int _size;

	void InsertValue(RBNode*& root, const int value);

	RBNode* InsertNode(RBNode*& root, RBNode*& node);

	void FixInsertRBTree( RBNode*& node);

	Color GetColor(RBNode* node);

	void SetColor(RBNode*& node, const Color color);

	void RotateLeft(RBNode*& root, RBNode*& node);

	void RotateRight(RBNode*& root, RBNode*& node);


	RBNode* DeleteNode(RBNode*& root, int data);

	void DeleteValue(RBNode*& root, int data);

	RBNode* MinValueNode(RBNode*& node);

	void FixDeleteRBTree(RBNode*& root, RBNode*& node);

	inline int DeleteCase1(RBNode*& root, RBNode*& node);

	inline void DeleteCase2(RBNode*& root, RBNode*& node);

	inline int DeleteCase3(RBNode*& root, RBNode*& sibling, RBNode*& parent, RBNode*& pointer);

	inline int DeleteCase4(RBNode*& root, RBNode*& sibling, RBNode*& parent, RBNode*& pointer);

	RBNode* FindNode(RBNode* node, const int data);
	////Инициализиурет корень дерева.
	//void InitRoot(int data);

	////Функция вставки элемента дерева.
	//void Insert(Node*& node, int data);

	////Вычисляет текущую высоту дерева.
	//int CalculateHeight(Node* node);

	////Удаляет элемент дерева.
	//void DeleteNode(Node*& node, int data);

public:
	//Возврщает количество элементов в дереве.
	int GetSize();

	//Возвращает высоту дерева.
	int GetHeight();

	//Возвращает текущий корень дерева.
	RBNode* GetRoot();

	//Конструктор по умолчанию.
	RBTree();

	//Добавление элемента в дерево.
	void AddElement(int data);

	//Удаление элемента по значению.
	void DeleteElement(int data);

	//Возврщает минимальный элемент дерева.
	int FindMin();

	//Возвращает максимальный элемент дерева.
	int FindMax();

	int FindValue(int data);
};
#endif
